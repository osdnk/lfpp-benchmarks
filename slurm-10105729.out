cmake -S ./hexl-bindings/hexl/ -B ./hexl-bindings/hexl/build -DCMAKE_C_COMPILER=/appl/scibuilder-spack/aalto-rhel9-prod/2024-01-compilers/software/linux-rhel9-haswell/gcc-11.4.1/gcc-12.3.0-xh5vv5d/bin/gcc
-- HEXL BRANCH:                   HEAD
-- CMAKE_BUILD_TYPE:              Release
-- CMAKE_C_COMPILER:              /appl/scibuilder-spack/aalto-rhel9-prod/2024-01-compilers/software/linux-rhel9-haswell/gcc-11.4.1/gcc-12.3.0-xh5vv5d/bin/gcc
-- CMAKE_CXX_COMPILER:            /appl/scibuilder-spack/aalto-rhel9-prod/2024-01-compilers/software/linux-rhel9-haswell/gcc-11.4.1/gcc-12.3.0-xh5vv5d/bin/g++
-- HEXL_BENCHMARK:                ON
-- HEXL_COVERAGE:                 OFF
-- HEXL_DEBUG:                    OFF
-- HEXL_DOCS:                     OFF
-- HEXL_EXPERIMENTAL:             OFF
-- HEXL_SHARED_LIB:               OFF
-- HEXL_TESTING:                  ON
-- HEXL_TREAT_WARNING_AS_ERROR:   OFF
-- HEXL_FPGA_COMPATIBILITY:       0
-- CMAKE_CXX_FLAGS_DEBUG -g
-- CMAKE_CXX_FLAGS_RELEASE -O3 -DNDEBUG
-- CMAKE_CXX_FLAGS_MINSIZEREL -Os -DNDEBUG
-- CMAKE_CXX_FLAGS_RELWITHDEBINFO -O2 -g -DNDEBUG
-- CMAKE_CXX_FLAGS 
-- Setting HEXL_HAS_AVX512DQ
-- Setting HEXL_HAS_AVX512IFMA
-- Setting HEXL_HAS_AVX512VBMI2
-- Setting HEXL_HAS_AVX256
-- CMAKE_INSTALL_LIBDIR:     lib64
-- CMAKE_INSTALL_INCLUDEDIR: include
-- CMAKE_INSTALL_PREFIX:     /usr/local
-- Could NOT find CpuFeatures (missing: CpuFeatures_DIR)
-- CpuFeatures: pre-installed CpuFeatures not found
-- Configuring done (0.0s)
-- Generating done (0.0s)
-- Build files have been written to: /home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download
gmake[1]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
gmake[2]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
[100%] Built target cpu_features
gmake[2]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
gmake[1]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/cpu-features/cpu-features-download'
CMake Deprecation Warning at build/cmake/third-party/cpu-features/cpu-features-src/CMakeLists.txt:1 (cmake_minimum_required):
  Compatibility with CMake < 3.5 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- Configuring done (0.0s)
-- Generating done (0.0s)
-- Build files have been written to: /home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download
gmake[1]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
gmake[2]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
[100%] Built target gtest
gmake[2]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
gmake[1]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gtest/gtest-download'
CMake Deprecation Warning at build/cmake/third-party/gtest/gtest-src/CMakeLists.txt:4 (cmake_minimum_required):
  Compatibility with CMake < 3.5 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


CMake Deprecation Warning at build/cmake/third-party/gtest/gtest-src/googlemock/CMakeLists.txt:45 (cmake_minimum_required):
  Compatibility with CMake < 3.5 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


CMake Deprecation Warning at build/cmake/third-party/gtest/gtest-src/googletest/CMakeLists.txt:56 (cmake_minimum_required):
  Compatibility with CMake < 3.5 will be removed from a future version of
  CMake.

  Update the VERSION argument <min> value or use a ...<max> suffix to tell
  CMake that the project does not need compatibility with older versions.


-- Configuring done (0.0s)
-- Generating done (0.0s)
-- Build files have been written to: /home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download
gmake[1]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
gmake[2]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
[100%] Built target gbenchmark
gmake[2]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
gmake[1]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build/cmake/third-party/gbenchmark/gbenchmark-download'
-- Failed to find LLVM FileCheck
-- git version: v1.6.0-9-gf730846b normalized to 1.6.0.9
-- Version: 1.6.0.9
-- Performing Test HAVE_STD_REGEX -- success
-- Performing Test HAVE_GNU_POSIX_REGEX -- failed to compile
-- Performing Test HAVE_POSIX_REGEX -- success
-- Performing Test HAVE_STEADY_CLOCK -- success
-- Configuring done (2.0s)
-- Generating done (0.2s)
-- Build files have been written to: /home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build
cmake --build ./hexl-bindings/hexl/build
gmake[1]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[2]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[  3%] Built target utils
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[  6%] Built target cpu_features
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[ 33%] Built target hexl
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[ 58%] Built target benchmark
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[ 70%] Built target bench_hexl
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[ 72%] Built target gtest
gmake[3]: Entering directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[3]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
[100%] Built target unit-test
gmake[2]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
gmake[1]: Leaving directory '/home/osadnim1/lfpp-benchmarks/hexl-bindings/hexl/build'
g++ -std=c++17 -fPIC -shared -o libhexl_wrapper.so hexl-bindings/hexl_wrapper.cpp -O3 -fwhole-program -flto -Wall -Wno-unused-function -Wno-unused-result -funroll-all-loops -march=native -lm -Wno-sign-compare -Wno-write-strings -I./hexl-bindings/hexl/hexl/include/ -L./hexl-bindings/hexl/build/hexl/lib -L./hexl-bindings/hexl/build/hexl/lib64 -lhexl
   Compiling ring_arith v0.1.0 (/home/osadnim1/lfpp-benchmarks)
warning: the feature `generic_const_exprs` is incomplete and may not be safe to use and/or cause compiler crashes
 --> src/lib.rs:1:12
  |
1 | #![feature(generic_const_exprs)]
  |            ^^^^^^^^^^^^^^^^^^^
  |
  = note: see issue #76560 <https://github.com/rust-lang/rust/issues/76560> for more information
  = note: `#[warn(incomplete_features)]` on by default

warning: unused imports: `multiply_mod` and `power_mod`
 --> src/cyclotomic_ring.rs:1:101
  |
1 | ...ise_reduce_mod, eltwise_sub_mod, multiply_mod, ntt_forward_in_place, ntt_inverse_in_place, power_mod};
  |                                     ^^^^^^^^^^^^                                              ^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `RwLock`
 --> src/cyclotomic_ring.rs:4:34
  |
4 | use std::sync::{Mutex, OnceLock, RwLock};
  |                                  ^^^^^^

warning: unused import: `std::iter::Sum`
 --> src/cyclotomic_ring.rs:6:5
  |
6 | use std::iter::Sum;
  |     ^^^^^^^^^^^^^^

warning: unused import: `once_cell::sync::OnceCell`
 --> src/ringops.rs:7:5
  |
7 | use once_cell::sync::OnceCell;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `once_cell::sync::Lazy`
 --> src/ringops.rs:8:5
  |
8 | use once_cell::sync::Lazy;
  |     ^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::collections::HashMap`
 --> src/ringops.rs:9:5
  |
9 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Mutex`
  --> src/ringops.rs:10:5
   |
10 | use std::sync::Mutex;
   |     ^^^^^^^^^^^^^^^^

warning: unused import: `std::sync::Arc`
  --> src/ringops.rs:11:5
   |
11 | use std::sync::Arc;
   |     ^^^^^^^^^^^^^^

warning: variable does not need to be mutable
   --> src/cyclotomic_ring.rs:177:13
    |
177 |         let mut res = t + t.conjugate();
    |             ----^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` on by default

warning: static `NORMALIZE_INCOMPLETE_NTT_FACTORS_CACHE` is never used
   --> src/cyclotomic_ring.rs:156:8
    |
156 | static NORMALIZE_INCOMPLETE_NTT_FACTORS_CACHE: OnceLock<Mutex<HashMap<usize, Vec<u64>>>> = OnceLock::new();
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` on by default

warning: static `NORMALIZE_INCOMPLETE_NTT_FACTORS_INVERSE_CACHE` is never used
   --> src/cyclotomic_ring.rs:157:8
    |
157 | static NORMALIZE_INCOMPLETE_NTT_FACTORS_INVERSE_CACHE: OnceLock<Mutex<HashMap<usize, Vec<u64>>>> = OnceLock::new();
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: methods `forward_ntt` and `inverse_ntt` are never used
   --> src/cyclotomic_ring.rs:214:8
    |
159 | impl<const MOD_Q: u64, const N: usize> CyclotomicRing<MOD_Q, N> {
    | --------------------------------------------------------------- methods in this implementation
...
214 |     fn forward_ntt(&mut self) {
    |        ^^^^^^^^^^^
...
218 |     fn inverse_ntt(&mut self) {
    |        ^^^^^^^^^^^

warning: `ring_arith` (lib) generated 13 warnings (run `cargo fix --lib -p ring_arith` to apply 9 suggestions)
warning: the feature `generic_const_exprs` is incomplete and may not be safe to use and/or cause compiler crashes
 --> src/main.rs:2:12
  |
2 | #![feature(generic_const_exprs)]
  |            ^^^^^^^^^^^^^^^^^^^
  |
  = note: see issue #76560 <https://github.com/rust-lang/rust/issues/76560> for more information
  = note: `#[warn(incomplete_features)]` on by default

warning: unused import: `prime::largest_prime_in_arithmetic_progression64`
 --> src/main.rs:5:16
  |
5 | use tfhe_ntt::{prime::largest_prime_in_arithmetic_progression64, *};
  |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `hexl::bindings::eltwise_add_mod`
 --> benches/bench.rs:4:38
  |
4 | use ring_arith::{cyclotomic_ring::*, hexl::bindings::eltwise_add_mod};
  |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unreachable statement
  --> benches/bench.rs:31:5
   |
29 |         return result;
   |         ------------- any code following this expression is unreachable
30 |     }
31 |     panic!("AVX512 is not supported on this architecture");
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ unreachable statement
   |
   = note: `#[warn(unreachable_code)]` on by default

warning: unnecessary `unsafe` block
  --> benches/bench.rs:72:17
   |
72 |                 unsafe {
   |                 ^^^^^^ unnecessary `unsafe` block
   |
   = note: `#[warn(unused_unsafe)]` on by default

warning: variable does not need to be mutable
  --> benches/bench.rs:67:21
   |
67 |                 let mut operand1 = CyclotomicRing::<MOD_Q, N>::random();
   |                     ----^^^^^^^^
   |                     |
   |                     help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
  --> benches/bench.rs:68:21
   |
68 |                 let mut operand2 = CyclotomicRing::<MOD_Q, N>::random();
   |                     ----^^^^^^^^
   |                     |
   |                     help: remove this `mut`

warning: variable does not need to be mutable
  --> benches/bench.rs:71:15
   |
71 |             |(mut operand1, mut operand2)| {
   |               ----^^^^^^^^
   |               |
   |               help: remove this `mut`

warning: variable does not need to be mutable
  --> benches/bench.rs:71:29
   |
71 |             |(mut operand1, mut operand2)| {
   |                             ----^^^^^^^^
   |                             |
   |                             help: remove this `mut`

warning: variable does not need to be mutable
  --> benches/bench.rs:93:21
   |
93 |                 let mut operand3 = CyclotomicRing::<MOD_Q, N>::random();
   |                     ----^^^^^^^^
   |                     |
   |                     help: remove this `mut`

warning: variable does not need to be mutable
  --> benches/bench.rs:96:43
   |
96 |             |(mut operand1, mut operand2, mut operand3)| {
   |                                           ----^^^^^^^^
   |                                           |
   |                                           help: remove this `mut`

warning: `ring_arith` (bin "main" test) generated 2 warnings (run `cargo fix --bin "main" --tests` to apply 1 suggestion)
warning: `ring_arith` (lib test) generated 13 warnings (13 duplicates)
warning: `ring_arith` (bin "main") generated 2 warnings (2 duplicates)
warning: `ring_arith` (bench "bench") generated 9 warnings (run `cargo fix --bench "bench"` to apply 7 suggestions)
    Finished `bench` profile [optimized] target(s) in 2.64s
     Running unittests src/lib.rs (target/release/deps/ring_arith-cd3b7233c2a009a0)

running 6 tests
test cyclotomic_ring::test_addition_same_representation ... ignored
test cyclotomic_ring::test_multiplication_same_representation ... ignored
test cyclotomic_ring::test_subtraction_same_representation ... ignored
test hexl::bindings::tests::test_eltwise_mult_mod ... ignored
test hexl::bindings::tests::test_multiply_mod ... ignored
test hexl::bindings::tests::test_multiply_poly ... ignored

test result: ok. 0 passed; 0 failed; 6 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/release/deps/main-df9a476f8ceb45d3)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running benches/bench.rs (target/release/deps/bench-d340c4827210b612)
Gnuplot not found, using plotters backend
Benchmarking lfp compute double commitment no mod
Benchmarking lfp compute double commitment no mod: Warming up for 10.000 s

Warning: Unable to complete 30 samples in 5.0s. You may wish to increase target time to 528.3s, or reduce sample count to 10.
Benchmarking lfp compute double commitment no mod: Collecting 30 samples in estimated 528.30 s (30 iterations)
Benchmarking lfp compute double commitment no mod: Analyzing
lfp compute double commitment no mod
                        time:   [34.157 s 34.394 s 34.622 s]
                        change: [+96.826% +98.023% +99.484%] (p = 0.00 < 0.05)
                        Performance has regressed.

Benchmarking lfpp compute extension commitment
Benchmarking lfpp compute extension commitment: Warming up for 10.000 s

Warning: Unable to complete 30 samples in 5.0s. You may wish to increase target time to 592.5s, or reduce sample count to 10.
Benchmarking lfpp compute extension commitment: Collecting 30 samples in estimated 592.49 s (30 iterations)
Benchmarking lfpp compute extension commitment: Analyzing
lfpp compute extension commitment
                        time:   [18.976 s 19.144 s 19.318 s]
                        change: [−59.876% −59.445% −59.012%] (p = 0.00 < 0.05)
                        Performance has improved.

